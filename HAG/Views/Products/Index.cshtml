@model IEnumerable<HAG.Models.Product>

@{
    ViewBag.Title = "Products";
}

<style>
    body {
        font-family: Arial;
    }

    #productTable {
        font-family: Arial;
        border-collapse: collapse;
        width: 100%;
    }

    #templatemo_header_wrapper {
        height: 90px;
    }

    #productTable td, #productTable th {
        border: 1px solid #ddd;
        padding: 8px;
    }

    #productTable tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    #productTable tr:hover {
        opacity: 0.7;
    }

    #productTable th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        background-color: #bbd142;
        color: white;
    }

    .pagination ul {
        float: left;
    }

    .dataTables_wrapper .dataTables_paginate {
        float: right;
        text-align: right;
        padding-top: 0.25em;
    }

        .dataTables_wrapper .dataTables_paginate .paginate_button {
            box-sizing: border-box;
            display: inline-block;
            min-width: 1.5em;
            padding: 0.5em 1em;
            margin-left: 2px;
            text-align: center;
            text-decoration: none !important;
            cursor: pointer;
            *cursor: hand;
            color: #333 !important;
            border: 1px solid transparent;
            border-radius: 2px;
        }

            .dataTables_wrapper .dataTables_paginate .paginate_button.current, .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
                color: #333 !important;
                border: 1px solid #979797;
                background-color: white;
                background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, white), color-stop(100%, #dcdcdc));
                /* Chrome,Safari4+ */
                background: -webkit-linear-gradient(top, white 0%, #dcdcdc 100%);
                /* Chrome10+,Safari5.1+ */
                background: -moz-linear-gradient(top, white 0%, #dcdcdc 100%);
                /* FF3.6+ */
                background: -ms-linear-gradient(top, white 0%, #dcdcdc 100%);
                /* IE10+ */
                background: -o-linear-gradient(top, white 0%, #dcdcdc 100%);
                /* Opera 11.10+ */
                background: linear-gradient(to bottom, white 0%, #dcdcdc 100%);
                /* W3C */
            }

            .dataTables_wrapper .dataTables_paginate .paginate_button.disabled, .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover, .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:active {
                cursor: default;
                color: #666 !important;
                border: 1px solid transparent;
                background: transparent;
                box-shadow: none;
            }

            .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
                color: white !important;
                border: 1px solid #111;
                background-color: #585858;
                background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
                /* Chrome,Safari4+ */
                background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
                /* Chrome10+,Safari5.1+ */
                background: -moz-linear-gradient(top, #585858 0%, #111 100%);
                /* FF3.6+ */
                background: -ms-linear-gradient(top, #585858 0%, #111 100%);
                /* IE10+ */
                background: -o-linear-gradient(top, #585858 0%, #111 100%);
                /* Opera 11.10+ */
                background: linear-gradient(to bottom, #585858 0%, #111 100%);
                /* W3C */
            }

            .dataTables_wrapper .dataTables_paginate .paginate_button:active {
                outline: none;
                background-color: #2b2b2b;
                background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2b2b2b), color-stop(100%, #0c0c0c));
                /* Chrome,Safari4+ */
                background: -webkit-linear-gradient(top, #2b2b2b 0%, #0c0c0c 100%);
                /* Chrome10+,Safari5.1+ */
                background: -moz-linear-gradient(top, #2b2b2b 0%, #0c0c0c 100%);
                /* FF3.6+ */
                background: -ms-linear-gradient(top, #2b2b2b 0%, #0c0c0c 100%);
                /* IE10+ */
                background: -o-linear-gradient(top, #2b2b2b 0%, #0c0c0c 100%);
                /* Opera 11.10+ */
                background: linear-gradient(to bottom, #2b2b2b 0%, #0c0c0c 100%);
                /* W3C */
                box-shadow: inset 0 0 3px #111;
            }

        .dataTables_wrapper .dataTables_paginate .ellipsis {
            padding: 0 1em;
        }

    #partial {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #1d2120;
    }

        #partial li {
            float: left;
        }

            #partial li a {
                display: block;
                color: white;
                text-align: center;
                padding: 16px;
                text-decoration: none;
            }

                #partial li a:hover {
                    background-color: #111111;
                }
</style>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <title>Products</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />



</head>
<body>

    <!-- Top Menu Start -->
    <div id="templatemo_header_wrapper">
        <div id="templatemo_header">
            <div id="site_logo">

            </div>

            <div id="templatemo_menu">
                <div id="templatemo_menu_left"></div>
                <ul>
                    <li><a href="/Home/Home" class="current">Home</a></li>
                    <li><a href="/Products/Index">Products</a></li>
                    <li><a href="/Home/Gallery">Gallery</a></li>
                    <li><a href="/Home/Company">Company</a></li>
                    <li><a href="/Home/Contact">Contact</a></li>


                    <li class="last cart-image"><a href="@Url.Action("Index", "AddToCart")"><img src="~/Content/Images/cart-lime.png" alt="" /><span style="color:red">@Session["count"]</span></a></li>

                </ul>

            </div>
            <ul id="partial">
                @Html.Partial("_LoginPartial")
            </ul>
        </div>

    </div>


    <!-- End of Top Menu-->



    <div id="templatemo_content_wrapper">
        <div id="templatemo_content">

            <!-- Content Area -->
            <div id="column_w530">
                <div class="header_02">Products</div>

                @if (User.IsInRole("Admin"))
                {
                    <p>
                        @Html.ActionLink("Create New", "Create")
                    </p>
                }
                <table class="table" id="productTable">
                    <thead>
                        <tr>
                            <th>
                                <b><label>Name</label></b>
                            </th>
                            <th>
                                <b><label>Price</label></b>
                            </th>
                            <th>
                                <b><label>Size</label></b>
                            </th>
                            <th>
                                <b><label>Image</label></b>
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.price)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.category)
                                </td>
                                <td>
                                    <img style="max-width:50px" src="@item.image" />
                                </td>
                                <td>
                                    @if (User.IsInRole("Admin"))
                                    {
                                        @Html.ActionLink("Edit", "Edit", new { id = item.id })}|

                                    @Html.ActionLink("Details", "Details", new { id = item.id }) |
                                    @if (User.IsInRole("Admin"))
                                    {
                                        <a class="btn-link js-delete" data-id="@item.id">Delete</a>} |
                                    @if ((User.IsInRole("User")))
                                    {
                                        <a id="btn_add" href="@Url.Action("Add","AddToCart",item)"
                                           class="btn btn-info btn-lg"><span class="glyphicon glyphicon-shopping-cart"></span>Add to Cart</a>}

                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                <div class="cleaner"></div>
            </div>
            <!-- End of Content Area -->
            <!-- Right Sidebar -->
            <div id="column_w300">

                <div class="header_03">Latest News</div>

                <div class="column_w300_section_01">
                    <div class="news_image_wrapper">
                        <img src="~/Content/Images/cotton.jpg" alt="image" />
                    </div>

                    <div class="news_content">
                        <div class="news_date">OCT 29, 2048</div>
                        <div class="header_04"><a href="#">Organic materials</a></div>
                        <p>We use only organic materials for our products.</p>
                    </div>

                    <div class="cleaner"></div>
                </div>

                <div class="column_w300_section_01 even_color">
                    <div class="news_image_wrapper">
                        <img src="~/Content/Images/team.jpg" alt="image" />
                    </div>

                    <div class="news_content">
                        <div class="news_date">OCT 28, 2048</div>
                        <div class="header_04"><a href="#">Our factories</a></div>
                        <p> Feel the atmosphere inside our factories.</p>
                    </div>

                    <div class="cleaner"></div>
                </div>

                <div class="column_w300_section_01">
                    <div class="news_image_wrapper">
                        <img src="~/Content/Images/zara.png" alt="image" />
                    </div>

                    <div class="news_content">
                        <div class="news_date">OCT 27, 2048</div>
                        <div class="header_04"><a href="#">Our Partners</a></div>
                        <p> We started our partnership with one of the biggest clothing brands, Zara.</p>
                    </div>

                    <div class="cleaner"></div>
                </div>

                <div class="cleaner"></div>
            </div>
            <!-- End of Right Sidebar -->

            <div class="cleaner"></div>
        </div>
    </div>

    <!-- Footer -->
    <div id="templatemo_footer_wrapper">

        <div id="templatemo_footer">

            <div class="section_w180">
                <div class="header_05">Services</div>
                <div class="section_w180_content">
                    <ul class="footer_menu_list">
                        <li><a href="#">Lorem ipsum dolor</a></li>
                        <li><a href="#">Cum sociis</a></li>
                        <li><a href="#">Donec quam</a></li>
                        <li><a href="#">Nulla consequat</a></li>
                        <li><a href="#">In enim justo</a></li>
                    </ul>
                </div>
            </div>

            <div class="section_w180">
                <div class="header_05">About</div>
                <div class="section_w180_content">
                    <ul class="footer_menu_list">
                        <li><a href="#">Nullam quis</a></li>
                        <li><a href="#">Sed consequat</a></li>
                        <li><a href="#">Cras dapibus</a></li>
                        <li><a href="#">Lorem ipsum dolor</a></li>
                        <li><a href="#">Cum sociis</a></li>
                    </ul>
                </div>
            </div>

            <div class="section_w180">
                <div class="header_05">Cool links</div>
                <div class="section_w180_content">
                    <ul class="footer_menu_list">
                        <li><a href="#">Aenean vulputate</a></li>
                        <li><a href="#">Etiam ultricies</a></li>
                        <li><a href="#">Nullam quis</a></li>
                        <li><a href="#">Sed consequat</a></li>
                        <li><a href="#">Cras dapibus</a></li>
                    </ul>
                </div>
            </div>

            <div class="section_w180">
                <div class="header_05">Contact</div>

                <div class="section_w180_content">

                    <ul class="footer_menu_list">
                        <li><a href="#">Donec quam</a></li>
                        <li><a href="#">Nulla consequat</a></li>
                        <li><a href="#">In enim justo</a></li>
                        <li><a href="#">Aenean vulputate</a></li>
                        <li><a href="#">Etiam ultricies</a></li>
                    </ul>
                </div>
            </div>

            <div class="section_w180">
                <div class="header_05">Partners</div>
                <div class="section_w180_content">
                    <ul class="footer_menu_list">
                        <li><a href="http://www.templatemo.com" target="_parent">CSS Templates</a></li>
                        <li><a href="http://www.flashmo.com" target="_parent">Flash Websites</a></li>
                        <li><a href="http://www.templatemo.com/page/2" target="_parent">Website Templates</a></li>
                        <li><a href="http://www.webdesignmo.com" target="_parent">Web Design Tips</a></li>
                        <li><a href="http://www.photovaco.com" target="_blank">Free Stock Photos</a></li>
                    </ul>
                </div>
            </div>

            <div class="margin_bottom_20"></div>
            Copyright © 2048 <a href="#">Your Company Name</a> | <a href="http://www.iwebsitetemplate.com" target="_parent">Website Templates</a> by <a href="http://www.templatemo.com" target="_parent">Free CSS Templates</a>
            <div class="cleaner"></div>
        </div>

    </div>
    <!-- End of Footer -->

</body>

</html>



@section scripts{
    <script>
        var table = $("#productTable").DataTable();
        $("#productTable .js-delete").click(function () {
            var button = $(this);
            bootbox.confirm("Do you want to delete this product",
                function (result) {
                    if (result) {
                        $.ajax({
                            method: "GET",
                            url: "/Products/Delete/" + button.attr("data-id"),
                            success: function () {
                                table.row(button.parents("tr")).remove().draw();
                            }


                        });
                    }
                });
        });
    </script>
}